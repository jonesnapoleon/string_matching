{% extends 'base.html' %}

{% block form %}
    <aside>
        <a href='/'>Back</a>
    </aside>

    <form class="row" action="/web" method="POST" enctype="multipart/form-data">        
        <section class="mt-3 col-xs-12 col-sm-6">
            <div id='web-chosen'>
                <legend class="lead">
                    <a href="#" data-toggle="tooltip" data-html="true" title="Try: <b>http://informatika.stei.itb.ac.id/~rinaldi.munir/Stmik/2019-2020/stima19-20.htm</b><br><b>https://ashura.id/nim</b>">
                        <i class="fas fa-info-circle"></i>
                    </a>
                    Input url: 
                </legend>
                <input id='input-web' name='input-web'type='url' placeholder="Copy url here..." value='{{ previous["url"] }}' required>
            </div>
        </section>

        <section class="mt-3 col-xs-12 col-sm-6">
            <legend class="lead">Keywords: </legend>
            <div>
                <input type="text" id="keywords" name='keywords' placeholder="Type here..." value='{{ previous["keywords"] }}' required>
            </div>
            <button type='submit' class="mt-1 btn btn-primary btn-md">Find</button>
        </section>
    </form>
        
    <section id='result'>
        {% if show %}
            <article class="mt-5">
                {% if result['raw_output'] %}
                    <label class='lead d-block'>Changes: </label>
                    {% for val in result['raw_output'] %}
                        <code>{{ val }}</code>
                    {% endfor %}
                {% else %}
                    <label class='lead d-block'>No change</label>               
                {% endif %}
            </article>

            <article class="form-group mt-3">
                <label class="lead">Generated output: </label>
                {% autoescape false %}
                    <code class="form-control">{{ result['inner_HTML'] }}</code>
                {% endautoescape %}
            </article>    
        {% endif %}
    </section>

{% endblock %}